<?xml version="1.0" encoding="utf-8"?>
<mule xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:spring="http://www.springframework.org/schema/beans"
    xmlns="http://www.mulesoft.org/schema/mule/core"
    xsi:schemaLocation="
		http://www.springframework.org/schema/beans	http://www.springframework.org/schema/beans/spring-beans-3.1.xsd
		http://www.mulesoft.org/schema/mule/core	http://www.mulesoft.org/schema/mule/core/3.3/mule.xsd
	" >

    <spring:bean
        id="resetVagvalCacheComponent"
        class="se.skl.tp.vp.vagvalagent.ResetVagvalCache" >
        <spring:property
            name="vagvalAgent"
            ref="vagvalAgent" />
    </spring:bean>

    <flow name="resetVagvalCache-flow" >

        <inbound-endpoint
            address="http://${TP_HOST}:${RESETVAGVALCACHE_PORT}/${RESETVAGVALCACHE_INBOUND_URI}"
            responseTimeout="${SERVICE_TIMEOUT_MS}" />

        <component>
            <spring-object bean="resetVagvalCacheComponent" />
        </component>
    </flow>

</mule>
